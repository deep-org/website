---
author: [cpappas]
draft: false
date: 2020-07-21T20:00:00
categories: ["R", "workshop"]
tags: ["sap flow", "stomatal response", "uncertainty"]
linktitle: TREX Workflow
menu:
    esa-workshop:
      weight: 20
title: Analysis Workflow
type: docs
toc: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(collapse = TRUE)
knitr::opts_chunk$set(fig.height = 6.5, fig.width = 8, dpi = 200)
knitr::opts_chunk$set(cache = TRUE)
```

## Background

The package `TREX` cleans, processes and visualises highly resolved time series of sap flow data 

## Set-up Steps

```{r pkg-install, echo = TRUE, eval = FALSE}

# install if necessary

packages <- (c("devtools","zoo","chron","dplyr","viridis", "RCurl", "DT"))
install.packages(setdiff(packages, rownames(installed.packages())))
devtools::install_github("the-Hull/TREX")


library(treenetproc)
library(zoo)
library(chron)
library(viridis)
library(dplyr)


# helper functions
left <-  function(string, char){substr(string, 1,char)}
right <-  function (string, char){substr(string,nchar(string)-(char-1),nchar(string))}


```


```{r pkg-load, echo = TRUE, include = FALSE}

# install if necessary

install.packages(setdiff("widgetframe", rownames(installed.packages())))

library(treenetproc)
library(zoo)
library(chron)
library(viridis)
library(dplyr)


# helper functions
left <-  function(string, char){substr(string, 1,char)}
right <-  function (string, char){substr(string,nchar(string)-(char-1),nchar(string))}


```

## Importa data (L0)

Raw dendrometer and temperature data can be provided as input. Providing temperature data is optional. 
However, temperature data increases the quality of error detection and processing.

The raw dendrometer or climate data can be provided in long format.
Data of multiple sensors can either be specified in a column named series to separate the sensors. 

Dendrometer data always has to be provided in microns.
In addition, a column named `ts` with timestamps in any standard date format (default is `date_format = "%Y-%m-%d %H:%M:%S"`) is required.



## Using `TREX`

For use in publication, the reference is:

```{r ref}
citation("TREX")

```

## References

- KnÃ¼sel S, Haeni M, Wilhelm M, Peters R, Zweifel R (2020) treenetproc: towards a standardized processing of stem radius data. In prep.
- Zweifel R, Haeni M, Buchmann N, Eugster W (2016) Are trees able to grow in periods of stem shrinkage? New Phytol. 211:839-49.
- See also: https://rdrr.io/github/treenet/treenetproc/f/vignettes/Introduction-to-treenetproc.Rmd

